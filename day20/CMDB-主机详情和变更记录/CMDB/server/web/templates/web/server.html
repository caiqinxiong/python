{% extends 'layout.html' %}




{% block content %}

    <a class="btn btn-success btn-sm" href="{% url 'server_add' %}">新增</a>
    <table class="table table-hover table-bordered">

        <thead>
        <tr>
            <th>序号</th>
            <th>ID</th>
            <th>主机名</th>
            <th>系统</th>
            <th>cpu个数</th>
            <th>设备状态</th>
            <th>机房</th>
            <th>业务线</th>
            <th>更新时间</th>
            <th>编辑</th>
        </tr>
        </thead>
        <tbody>
        {% for server in all_servers %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ server.pk }}</td>
                <td><a href="{% url 'server_detail' server.pk %}">{{ server.hostname }}</a></td>
                <td>{{ server.os_platform }}</td>
                <td>{{ server.cpu_count }}</td>
                <td>{{ server.get_device_status_id_display }}</td>
                <td>{{ server.idc }}</td>
                <td>{{ server.business_unit }}</td>
                <td>{{ server.latest_date }}</td>
                <td>
                    <a class="btn btn-warning btn-sm" href="{% url 'server_edit' server.pk %}">编辑</a>
                    <a class="btn btn-info btn-sm" href="{% url 'server_record' server.pk %}">查看变更记录</a>

                </td>
            </tr>
        {% endfor %}


        </tbody>
    </table>

{% endblock %}